\
**CAUTION:**\
\* The following only applies to firmware version 0.20.X! It is
recommended to look through all settings before using the bike.
Especially the Basic Setup.

-   Always use the same firmware version for both the motor controller
    and LCD unless otherwise specified!
-   Before using the mid drive with new firmware, you must correctly
    configure the options on the display. For instance, you should
    configure your battery low voltage cut off so as not to over
    discharge the battery. Do set all other parameters also to ensure
    proper operation.
-   When installing new firmware, always check that no unwanted
    functions have become enabled or disabled during the install
    process.

\

# Main Screen {#main_screen}

------------------------------------------------------------------------

## Assist Level Field {#assist_level_field}

The assist level field displays the active assist level. This sets the
motor power as a factor of the power that rider is generating on the
pedals. For instance, if current assist level is 3 and if this level is
configured as a factor of 2.0, when rider is doing on the pedals a power
of 100 watts, the motor power supplied will be 200 watts. The assist
level is changed by pressing either UP or DOWN button.\
\
**NOTES:**\
\* It is possible to configure the number of assist levels (1 to 9) in
the configuration menu.\

------------------------------------------------------------------------

## Wheel Speed Field {#wheel_speed_field}

This sub field displays information about speed. The values are
displayed in either metric or imperial units and the user can switch
between a couple of different speed measurements. The default one is
current wheel speed. Other ones are average speed since power on and
peak speed since power on.\
\
- `<b>`{=html} Wheel speed: `</b>`{=html} Displays current wheel speed.\
\
- `<b>`{=html} Average wheel speed: `</b>`{=html} Displays average wheel
speed since power on.\
\
- `<b>`{=html} Peak wheel speed: `</b>`{=html} Displays peak wheel speed
since power on.\
\

------------------------------------------------------------------------

## Motor Power Field {#motor_power_field}

The motor power field displays instantaneous motor power in watts.

It is possible to access a quick-power-set menu by pressing and holding
the ONOFF and UP buttons. When entered in the menu, press or hold UP and
DOWN buttons to increase or decrease the power limit. This can be useful
for various reasons, for instance controlling the battery range on long
trips. Exit the menu by holding the ONOFF button.

Note that the menu cannot be accessed when Street Mode is enabled.
Disable Street Mode first or change the motor power limit in the
configuration menu.

How it works: the motor controller will automatically limit current and
therefore limit maximum motor power. As the battery discharges and the
voltage decreases the motor controller will adjust the current to
maintain the set power limit.\
\
**NOTES:**\
\* Enter the quick-power-set menu by pressing and holding the ONOFF and
UP buttons. Exit by holding the ONOFF button.

-   The motor power will not exceed the maximum battery current set by
    user.

\

------------------------------------------------------------------------

## Odometer Field {#odometer_field}

The odometer field located at the bottom of the display can show a few
variables that are logically grouped in sub fields. You can change
between fields by pressing the ON/OFF button. To change between
different data in a sub field quickly press UP button followed by a long
hold on UP button. The current field and sub field number will
temporarily blink in the wheel speed field.

Summary:

  Group                   Option .1             Option .2        Option .3
  ----------------------- --------------------- ---------------- -----------
  1 - Distance            Trip                  Since Power On   Odometer
  2 - Battery Charge      Percentage            Consumed Wh      \-
  3 - Battery State       Voltage (V)           Current (A)      \-
  4 - Pedal Data          Power                 Cadence          Weight
  5 - Energy              Average Wh/distance   Est range        \-
  6 - Time                Since Power On        Total            \-
  7 - Wheel Speed         Current               Average          Peak
  8 - Motor Temperature   Current               \-               \-
  9 - Cruise              Target Speed          \-               \-

If there are any system errors the error code will be force-displayed in
the odometer field. To look up what the error code means please take a
look at the table under Error Codes.\
\
**NOTES:**\
\* Sub fields are only displayed if the function in question is enabled
and not set to hidden in the Configuration Menu, Main Screen Setup.\
\
`<b>`{=html} - 1. Distance `</b>`{=html}

-   `<u>`{=html} 1.0 Trip distance: `</u>`{=html} You can manually reset
    the trip distance by pressing DOWN button quickly followed by a long
    press on the DOWN button until value resets. It will start to blink
    when it is about to reset.
-   `<u>`{=html} 1.1 Distance since power on: `</u>`{=html} this value
    will automatically reset during power on/off.
-   `<u>`{=html} 1.2 Odometer: `</u>`{=html} can be set to a specific
    value in the configurations menu or reset as described above.

\
`<b>`{=html} - 2. Battery State of Charge `</b>`{=html}

-   `<u>`{=html} 2.0 State of charge in percentage `</u>`{=html}
-   `<u>`{=html} 2.1 Consumed watt-hours `</u>`{=html}

\
`<b>`{=html} - 3. Battery State `</b>`{=html}

-   `<u>`{=html} 3.0 Voltage: `</u>`{=html} voltage of battery.
-   `<u>`{=html} 3.1 Current: `</u>`{=html} instantaneous current drawn
    from battery.

\
`<b>`{=html} - 4. Pedal data `</b>`{=html}

-   `<u>`{=html} 4.0 Rider pedal power `</u>`{=html}: in watts.
-   `<u>`{=html} 4.1 Pedal cadence `</u>`{=html}: in revolutions per
    minute.
-   `<u>`{=html} 4.2 Pedal weight `</u>`{=html}: in kilograms.

\
`<b>`{=html} - 5. Energy data `</b>`{=html}

-   `<u>`{=html} 5.0 Average consumed power since power on
    `</u>`{=html}: displayed in watt-hours per kilometer or watt-hours
    per mile.
-   `<u>`{=html} 5.1 Estimated range since power on `</u>`{=html}:
    displayed in kilometers or miles and is based on the watt-hour
    consumption since power on and remaining watt-hours in the battery.
    This sub field will not be displayed if the Battery State of Charge
    function has not been enabled.

\
`<b>`{=html} - 6. Time Measurement `</b>`{=html}

-   `<u>`{=html} 6.0 Time Measurement: `</u>`{=html} time measured since
    display is powered on. You can reset by pressing DOWN button quickly
    followed by a long press on the DOWN button until value resets. It
    will start to blink when it is about to reset.
-   `<u>`{=html} 6.1 Total Time Measurement: `</u>`{=html} total time
    measured since last reset. Can be reset as described above.

\
`<b>`{=html} - 7. Wheel Speed `</b>`{=html}

-   `<u>`{=html} 7.0 Current wheel speed: `</u>`{=html} Current wheel
    speed.
-   `<u>`{=html} 7.1 Average wheel speed: `</u>`{=html} The average
    speed since power on.
-   `<u>`{=html} 7.2 Peak wheel speed: `</u>`{=html} The measured peak
    value of wheel speed since power on.

\
`<b>`{=html} - 8. Motor Temperature `</b>`{=html}

-   `<u>`{=html} 8.0 Motor temperature: `</u>`{=html} temperature of
    motor.

\
`<b>`{=html} - 9. Cruise Function `</b>`{=html}

-   `<u>`{=html} 9.0 See target speed for Cruise: `</u>`{=html}

\

------------------------------------------------------------------------

## Motor Temperature Field {#motor_temperature_field}

This field can either show the motor temperature, when the function is
enabled and the temperature sensor is installed, or some other data
depending on user preference. It is also possible to set so that the
field displays nothing.

The temperature value on the display will blink if the motor current is
being limited. As the function limits the current more it will blink
faster corresponding to higher limitations on current. Finally, if the
current is completely limited, the blink rate will be very fast.

**NOTES:**\
\* Set your desired configuration under the Main Screen Setup in the
Configuration Menu.

-   The chosen field to be displayed will be temporarily hidden and the
    motor temperature will be displayed if it is at temperature limits.

\
\
- `<b>`{=html} Motor temperature: `</b>`{=html} Motor temperature in
degrees Celsius. When the power power is being limited due to over
temperature, this field will blink. It is possible to configure the
temperature limits in the Configurations Menu.\
\
- `<b>`{=html} Battery state of charge in percent: `</b>`{=html} This
percentage value is based on measured watt hours consumed from the
battery. Set different modes and read more about this function in the
configurations menu.\
\
- `<b>`{=html} Battery voltage: `</b>`{=html} When you prefer to always
have the battery voltage displayed it is possible to set this in the
motor temperature field.\
\
- `<b>`{=html} Battery current: `</b>`{=html} Monitor the instantaneous
current drawn from the battery.\
\
- `<b>`{=html} Pedal cadence: `</b>`{=html} Set to pedal cadence if you
wish to see the instantaneous cadence of pedal rotation.\
\
- `<b>`{=html} Average wheel speed: `</b>`{=html} Set to average wheel
speed if you wish to see the average wheel speed since power on.\
\
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

## Time Measurement Field {#time_measurement_field}

The time measurement field displays elapsed time since power on or since
last reset. It displays either the TM symbol, stands for Time
Measurement, or TTM symbol, stands for Total Time Measurement. This
corresponds to the mentioned \"time since power on\" and \"time since
last reset\".\
\
- `<b>`{=html} TM: `</b>`{=html} Elapsed time since power on.\
\
- `<b>`{=html} TTM: `</b>`{=html} Elapsed time since last reset.\
\

------------------------------------------------------------------------

## Battery State of Charge field {#battery_state_of_charge_field}

The battery state of charge bar in the top left corner of the display is
based on battery voltage. There are 6 different levels. When battery is
near empty the bar will start blinking and the motor power will be
reduced accordingly.\
The system considers the internal resistance of the battery pack to
display appropriate battery state of charge. This filters out voltage
drops when drawing higher amounts of current from the battery. Set the
internal resistance of your particular battery in the configurations
menu.\

------------------------------------------------------------------------

# Powering up the system {#powering_up_the_system}

Powering up the system will initiate a calibration period for the torque
sensor. It is important to not rest on the pedals or to apply any force
as this will offset the calibration. The riding experience will suffer
with a less sensitive torque sensor.

This is only applicable for torque based riding modes.\

------------------------------------------------------------------------

# Motor Temperature Control Function {#motor_temperature_control_function}

This motor temperature protection eliminates overheating. Without this
function the motor might overheat during heavy loads, resulting in
permanent damage/loss of torque. See: **[TSDZ2 motor demagnetized due to
overheating](TSDZ2_motor_demagnetized_due_to_overheating "wikilink")**.
You can only use and enable this feature if you have installed the [
motor temperature
sensor](How_to_install_motor_temperature_sensor "wikilink").

If you have installed the [ motor temperature
sensor](How_to_install_motor_temperature_sensor "wikilink") and you
enable the function, you will be able to see the motor temperature in
the temperature field of the display. When the set minimum motor
temperature threshold is reached, the motor current will start to be
limited. If the temperature keeps rising this will result in even more
current, and therefore overall power, limitations. If the maximum motor
temperature is reached the current will be completely limited.

Tip for setting up the temperature control function: It is usually
better to set the minimum temperature a considerable amount lower and
have some margin to the maximum temperature limit. It will operate much
better and cope better with the thermal delay in the system. It is
required to allow for some margin to have it manage the temperature as
intended and this is very important!

In short, the margin between the minimum and maximum limit should be as
large as possible. So set the maximum limit to a value that is
considered almost at the edge of safe operation. And then have the
minimum temperature limit as low as possible. The thermal management
will be much smoother and it will reduce complete shutdown of
assistance. It will instead stabilize to a balanced temperature and the
user can keep on riding the bike.

If the margin is lower it is possible to reach the maximum temperature
limit and the assistance will be disabled until the motor temperature
lowers for a cool down period. That should never happen as there is a
power level the TSDZ2 can maintain without overheating at each and every
ambient temperature, altitude, humidity, etc. So if it does overheat the
settings are not optimally configured as the thermal management should
find and settle at the perfect power level that does not increase the
temperature any more for the given riding conditions.\
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# Buttons

There are three buttons connected to the KT-LCD3. Used for controlling
functions, navigating the menus and actually turning the system on and
off.

The uppermost button is referenced as the UP button in this manual. The
middle button is called the POWER button whilst the last button is the
DOWN button.\
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

# Lights

Switch between day time and night time mode by pressing the UP button.

It is possible to install front and rear lights that can be powered from
the motor controller and toggled from the display. Enabling the lights
will also increase the brightness for the LCD backlight. The LCD
backlight brightness can be configured in the Configuration Menu, Basic
Setup. To further make it apparent that the lights are enabled a symbol
will light up on the display. Other Light flashing modes as well as
brake activated lights can be configured under the Advanced menu
section.

To toggle the lights and the LCD backlight, press and hold the UP button
until the lights are enabled.\

# Brakes

TSDZ2 supports most brake sensors. Lever, magnetic or even \"hidden
wire\" types. It is usually recommended to install brake sensors as it
is for safety and that automatically qualifies to recommend such an
installation.

You can buy brake sensors at online shops like BMSBattery or PSWPower.

NOTE: it is really important to make sure the brake sensor installation
is complete and fully working before powering on the system. Otherwise
it will not properly initialize and as a result the display will show
the entire range of digits and symbols.

When brakes are installed the brake symbol will lighten up highlighting
that the brakes are engaged. This is also useful for checking that the
E-Brakes are operating properly and at all times.

Here is a link with more information regarding brake sensors and how to
install them: [How to install brake
sensors](How_to_install_brake_sensors "wikilink")\

------------------------------------------------------------------------

# Throttle function {#throttle_function}

On 8 pin cable versions of the TSDZ2 motor a throttle controller can be
added be connecting to the 5V(White), Gnd(Black) and throttle(Orange)
wires. The throttle will output a voltage between 0v and 5V on the
throttle pin to represent the throttle input level. Settings to enable
throttle control and monitor throttle input are available under the
advanced menu. Please note:- Throttle control shares the same control
pin as the temperate sensor, so cannot be used together.\

------------------------------------------------------------------------

# Error codes {#error_codes}

If there is an error in the system it will be force-displayed in the
odometer field. There will be a number associated with the error and
this is the actual error code. Below are explanations and suggestions
for the different error states.\
\
**1 = ERROR_MOTOR_BLOCKED**\
\
Motor is blocked. Excessive current is passing through motor and
controller with no motor rotation. Please unblock the wheel or motor.
After ten seconds this error will disappear and you will be able to use
the system as usual.\
\
**2 = ERROR_TORQUE_SENSOR**\
\
There might be a hardware problem with the torque sensor or the
calibration has not been executed correctly.

-   The calibration is executed every system startup. Torque was applied
    on the pedals causing the calibration of the torque sensor to become
    inaccurate. Please power off and back on again so the system can
    calibrate properly, with no force on the pedals.
-   Torque sensor has suffered damage or has a high resting value.
    Consider hardware calibration so it is within normal operating
    range. See [How to calibrate the torque
    sensor](How_to_calibrate_the_torque_sensor "wikilink") for more
    information regarding torque sensor hardware calibration.

\
\
**3 = ERROR_BRAKE_APPLIED_DURING_POWER_ON**\
\
(Not yet implemented)\
\
**4 = ERROR_THROTTLE_APPLIED_DURING_POWER_ON**\
\
(Not yet implemented)\
\
**5 = ERROR_NO_SPEED_SENSOR_DETECTED**

**6 = ERROR_LOW_CONTROLLER_VOLTAGE**\
\
Motor controller works with no less than 15 V. (Not yet implemented)\
\
**7 = ERROR_CADENCE_SENSOR_CALIBRATION**\
\
Please calibrate the cadence sensor if you wish to use the Advanced
Mode. Else switch to Standard Mode.\
\

------------------------------------------------------------------------

# Configuration Menu {#configuration_menu}

\
How to Navigate the Configuration Menu:

-   To enter the configuration setup menu: long-press the UP and DOWN
    buttons
-   To navigate between menus: press either the UP or DOWN button
-   To enter a menu: press the POWER button
-   To navigate between submenus: press either the UP or DOWN button
-   To select a submenu to change: press the POWER button
-   To change a value: press either the UP or DOWN button (press and
    hold the UP or DOWN button to rapidly increase or decrease the
    value)
-   To exit a submenu, menu, or configuration setup: long-press the
    POWER button

Note: If starting from an unknown state do a factory reset (see 0:9).\

## 0: Basic Setup {#basic_setup}

The parameters in the Basic Setup should always be configured before
using the bike.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Unit                  | (Metric)\             |
|                    |                       | (Imperial)\           |
|                    |                       | \                     |
|                    |                       | Press the UP or DOWN  |
|                    |                       | button to switch      |
|                    |                       | between metric (km/h, |
|                    |                       | kilometers, Celsius)  |
|                    |                       | or imperial units     |
|                    |                       | (mph, miles and       |
|                    |                       | Fahrenheit).\         |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Maximum wheel speed   | Enter speed limit     |
|                    |                       | from where the motor  |
|                    |                       | will fade out power   |
|                    |                       | from. The power fade  |
|                    |                       | starts from -0.5 km/h |
|                    |                       | to +2,0 km/h. If you  |
|                    |                       | enter 0 as a speed    |
|                    |                       | limit there will be   |
|                    |                       | no speed limiting.    |
+--------------------+-----------------------+-----------------------+
| 2                  | Wheel circumference   | Enter your wheel      |
|                    |                       | circumference in      |
|                    |                       | millimeters so that   |
|                    |                       | speed and distance    |
|                    |                       | are correctly         |
|                    |                       | calculated.\          |
|                    |                       | \                     |
|                    |                       | Tip: Search on Google |
|                    |                       | how to measure the    |
|                    |                       | wheel circumference.  |
|                    |                       | Below are approximate |
|                    |                       | values for a quick    |
|                    |                       | setup. Remember to    |
|                    |                       | calibrate with GPS    |
|                    |                       | for finer             |
|                    |                       | adjustments.\         |
|                    |                       | \                     |
|                    |                       | 26 inch wheel = 2050  |
|                    |                       | mm\                   |
|                    |                       | 27 inch wheel = 2150  |
|                    |                       | mm\                   |
|                    |                       | 27.5 inch wheel =     |
|                    |                       | 2215 mm\              |
|                    |                       | 28 inch wheel = 2250  |
|                    |                       | mm\                   |
|                    |                       | 29 inch wheel = 2300  |
|                    |                       | mm\                   |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 3                  | Motor voltage type    | \(0\) 48 V motor.\    |
|                    |                       | (1) 36 V motor.\      |
|                    |                       | (2) Experimental 48 V |
|                    |                       | motor, high cadence   |
|                    |                       | mode.\                |
|                    |                       | (3) Experimental 36 V |
|                    |                       | motor, high cadence   |
|                    |                       | mode.\                |
|                    |                       | \                     |
|                    |                       | Depending on the      |
|                    |                       | version of TSDZ2 you  |
|                    |                       | have there are two    |
|                    |                       | different kind of     |
|                    |                       | motors. Set the       |
|                    |                       | appropriate value so  |
|                    |                       | that the FOC          |
|                    |                       | calculations are      |
|                    |                       | correctly executed.   |
|                    |                       | The voltage of the    |
|                    |                       | battery does not      |
|                    |                       | matter, this value    |
|                    |                       | should always be set  |
|                    |                       | depending on type of  |
|                    |                       | motor.                |
|                    |                       |                       |
|                    |                       | -   Note that there   |
|                    |                       |     is a chance that  |
|                    |                       |     the experimental  |
|                    |                       |     mode is not good  |
|                    |                       |     for the motor,    |
|                    |                       |     use at your own   |
|                    |                       |     risk. Probably    |
|                    |                       |     only suitable for |
|                    |                       |     the 36 V motor.\  |
|                    |                       | -   The TSDZ2 52 V    |
|                    |                       |     version has a 48  |
|                    |                       |     V motor.          |
|                    |                       |                       |
|                    |                       | \                     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 4                  | Motor power limit     | Set value after user  |
|                    |                       | preference. Install   |
|                    |                       | the motor temperature |
|                    |                       | sensor if a lot of    |
|                    |                       | power is frequently   |
|                    |                       | needed so as not to   |
|                    |                       | overheat the motor.   |
+--------------------+-----------------------+-----------------------+
| 5                  | Set odometer          | Set the odometer to   |
|                    |                       | preferred value.\     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 6                  | Light mode            | \(0\) Day time mode   |
|                    | configuration         | enabled on system     |
|                    |                       | startup\              |
|                    |                       | (1) Night time mode   |
|                    |                       | enabled on system     |
|                    |                       | startup\              |
|                    |                       | (2) Remember light    |
|                    |                       | mode through power    |
|                    |                       | cycles\               |
|                    |                       | \                     |
|                    |                       | Day time mode is when |
|                    |                       | the external lights   |
|                    |                       | are off and the       |
|                    |                       | screen brightness     |
|                    |                       | percentage is set     |
|                    |                       | slightly lower.       |
|                    |                       | During night time     |
|                    |                       | mode the external     |
|                    |                       | lights are enabled    |
|                    |                       | and the screen        |
|                    |                       | brightness increases  |
|                    |                       | to better see the     |
|                    |                       | display when dark.    |
|                    |                       | Switch between light  |
|                    |                       | modes by pressing and |
|                    |                       | holding the UP button |
|                    |                       | on the main screen.\  |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 7                  | Screen brightness,    | Preferred screen      |
|                    | day time mode         | brightness percentage |
|                    |                       | during day time       |
|                    |                       | mode.\                |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 8                  | Screen brightness,    | Preferred screen      |
|                    | night time mode       | brightness percentage |
|                    |                       | during night time     |
|                    |                       | mode.\                |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 9                  | Screen auto power off | Automatic power off   |
|                    |                       | after amount of       |
|                    |                       | minutes.\             |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 10                 | Reset to defaults     | Reset to default      |
|                    |                       | values. Enter the sub |
|                    |                       | menu so that the      |
|                    |                       | number 42 starts      |
|                    |                       | blinking. Hold the    |
|                    |                       | POWER button a short  |
|                    |                       | amount of time and    |
|                    |                       | the system will reset |
|                    |                       | to default values.\   |
+--------------------+-----------------------+-----------------------+

\

## 1: Battery Setup {#battery_setup}

In the Battery Setup menu it is possible to configure all battery
parameters.

+----------------+----------------+----------------+----------------+
| **Submenu      | *              | **Default      | *              |
| number**       | *Configuration | value**        | *Description** |
|                | name**         |                |                |
+----------------+----------------+----------------+----------------+
| 0              | Maximum        | 16 A           | Set maximum    |
|                | battery        |                | allowable      |
|                | current        |                | current to be  |
|                |                |                | pulled from    |
|                |                |                | the battery.   |
|                |                |                | The controller |
|                |                |                | is software    |
|                |                |                | limited        |
|                |                |                | internally to  |
|                |                |                | the safe value |
|                |                |                | of 18 A.\      |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 1              | Battery        | 39 volt        | The controller |
|                | low-cut-off    |                | will reduce    |
|                | voltage        |                | power to not   |
|                |                |                | get below the  |
|                |                |                | minimum        |
|                |                |                | voltage limit. |
|                |                |                | Calculate the  |
|                |                |                | limit by       |
|                |                |                | multiplying    |
|                |                |                | amount of      |
|                |                |                | cells in       |
|                |                |                | series with    |
|                |                |                | the safe       |
|                |                |                | c              |
|                |                |                | ut-off-voltage |
|                |                |                | per cell,      |
|                |                |                | which is       |
|                |                |                | usually        |
|                |                |                | between 2.8 -  |
|                |                |                | 3.0 volts.     |
|                |                |                | Example: 13    |
|                |                |                | cells in       |
|                |                |                | series \* 3.0  |
|                |                |                | volts safe     |
|                |                |                | minimum = 39.0 |
|                |                |                | volts for the  |
|                |                |                | entire battery |
|                |                |                | pack.\         |
|                |                |                | \              |
|                |                |                | Tip: The       |
|                |                |                | standard       |
|                |                |                | Samsung cells  |
|                |                |                | allow down to  |
|                |                |                | 2.75 V but you |
|                |                |                | need some      |
|                |                |                | safety margin  |
|                |                |                | because not    |
|                |                |                | all cells have |
|                |                |                | exactly the    |
|                |                |                | same capacity. |
|                |                |                | But setting a  |
|                |                |                | too large      |
|                |                |                | value you      |
|                |                |                | loose range    |
|                |                |                | and power.\    |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 2              | Number of      | 13             | Set this value |
|                | cells in       |                | so the battery |
|                | series         |                | state          |
|                |                |                | indicator      |
|                |                |                | works          |
|                |                |                | properly. This |
|                |                |                | value can be   |
|                |                |                | any integer    |
|                |                |                | from 7 to 14\  |
|                |                |                | \              |
|                |                |                | Example        |
|                |                |                | values: 7 for  |
|                |                |                | 24 V battery;  |
|                |                |                | 10 for 36 V    |
|                |                |                | battery; 13    |
|                |                |                | for 48 V       |
|                |                |                | battery; 14    |
|                |                |                | for 52 V       |
|                |                |                | battery.\      |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 3              | Battery        | 130 milliohms  | Set this value |
|                | internal       |                | so the battery |
|                | resistance     |                | state          |
|                |                |                | indicator does |
|                |                |                | not display a  |
|                |                |                | lower state of |
|                |                |                | charge when    |
|                |                |                | pulling a lot  |
|                |                |                | of power from  |
|                |                |                | battery and    |
|                |                |                | the voltage    |
|                |                |                | sags.\         |
|                |                |                | \              |
|                |                |                | Explanation:   |
|                |                |                | If you set the |
|                |                |                | value to 0,    |
|                |                |                | you will see   |
|                |                |                | the battery    |
|                |                |                | state          |
|                |                |                | indicator      |
|                |                |                | fluctuating    |
|                |                |                | whenever the   |
|                |                |                | motor draws    |
|                |                |                | current from   |
|                |                |                | the battery.   |
|                |                |                | This is due to |
|                |                |                | the internal   |
|                |                |                | resistance in  |
|                |                |                | the battery.   |
|                |                |                | The            |
|                |                |                | fluctuation    |
|                |                |                | will disappear |
|                |                |                | and be         |
|                |                |                | filtered out   |
|                |                |                | with a correct |
|                |                |                | value.\        |
|                |                |                | \              |
|                |                |                | How to         |
|                |                |                | calculate the  |
|                |                |                | battery pack   |
|                |                |                | resistance:\   |
|                |                |                | 1. Limit the   |
|                |                |                | battery        |
|                |                |                | current to a   |
|                |                |                | known value,   |
|                |                |                | e.g. 10 amps\  |
|                |                |                | 2. Read the    |
|                |                |                | voltage drop   |
|                |                |                | when motor is  |
|                |                |                | pulling the 10 |
|                |                |                | amps\          |
|                |                |                | 3. Calculate   |
|                |                |                | the resistance |
|                |                |                | value\         |
|                |                |                | \              |
|                |                |                | Example for 10 |
|                |                |                | amps current,  |
|                |                |                | R = U / I, R = |
|                |                |                | 1.2 volts drop |
|                |                |                | / 10 amps, R = |
|                |                |                | 0.120 = 120    |
|                |                |                | milliohms.\    |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 4              | Battery        | \-             | This is the    |
|                | voltage (SOC)  |                | battery        |
|                |                |                | voltage        |
|                |                |                | adjusted with  |
|                |                |                | the configured |
|                |                |                | internal       |
|                |                |                | resistance of  |
|                |                |                | the battery.\  |
|                |                |                | \              |
|                |                |                | Tip: It is     |
|                |                |                | possible to    |
|                |                |                | evaluate and   |
|                |                |                | test how the   |
|                |                |                | configured     |
|                |                |                | internal       |
|                |                |                | resistance     |
|                |                |                | affects the    |
|                |                |                | voltage        |
|                |                |                | reading by     |
|                |                |                | looking at     |
|                |                |                | this value     |
|                |                |                | when riding    |
|                |                |                | the bike. It   |
|                |                |                | should not     |
|                |                |                | change much    |
|                |                |                | regardless of  |
|                |                |                | power used.\   |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 5              | Enable and set | 0              | \(0\) Function |
|                | State of       |                | disabled\      |
|                | Charge         |                | (1) Function   |
|                | function       |                | enabled (100 % |
|                |                |                | to 0 %)\       |
|                |                |                | (2) Function   |
|                |                |                | enabled (0 %   |
|                |                |                | to 100 %)      |
|                |                |                |                |
|                |                |                | If the         |
|                |                |                | function is    |
|                |                |                | enabled it is  |
|                |                |                | possible to    |
|                |                |                | have it        |
|                |                |                | display state  |
|                |                |                | of charge      |
|                |                |                | percentage     |
|                |                |                | remaining (100 |
|                |                |                | % to 0 %) or   |
|                |                |                | percentage     |
|                |                |                | consumed (0 %  |
|                |                |                | to 100 %).     |
|                |                |                | Choose         |
|                |                |                | whatever is    |
|                |                |                | preferable.    |
+----------------+----------------+----------------+----------------+
| 6              | Threshold      | 54.2 volt      | The system     |
|                | voltage to     |                | will compare   |
|                | reset          |                | this value to  |
|                | watt-hour      |                | the battery    |
|                | meter          |                | voltage. If it |
|                |                |                | is lower, the  |
|                |                |                | battery is     |
|                |                |                | expected to be |
|                |                |                | fully charged  |
|                |                |                | and the        |
|                |                |                | watt-hour      |
|                |                |                | meter is       |
|                |                |                | reset.\        |
|                |                |                | \              |
|                |                |                | Tip: To find a |
|                |                |                | suitable       |
|                |                |                | value, fully   |
|                |                |                | charge the     |
|                |                |                | battery and    |
|                |                |                | measure the    |
|                |                |                | voltage on the |
|                |                |                | KT-LCD3, use a |
|                |                |                | slightly lower |
|                |                |                | value for the  |
|                |                |                | threshold      |
|                |                |                | voltage.\      |
|                |                |                | \              |
|                |                |                | Example: A 48  |
|                |                |                | V battery      |
|                |                |                | charges up to  |
|                |                |                | 54.6 volts, so |
|                |                |                | set the        |
|                |                |                | threshold      |
|                |                |                | voltage to     |
|                |                |                | 54.2 volts.\   |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 7              | Total          | 0              | Set the total  |
|                | watt-hours of  |                | battery        |
|                | battery        |                | capacity in    |
|                |                |                | watt-hours.\   |
|                |                |                | \              |
|                |                |                | Tip: fully     |
|                |                |                | charge the     |
|                |                |                | battery and    |
|                |                |                | then discharge |
|                |                |                | it completely  |
|                |                |                | and use the    |
|                |                |                | measured value |
|                |                |                | to input       |
|                |                |                | here.\         |
|                |                |                | \              |
|                |                |                | Tip: roughly   |
|                |                |                | calculate the  |
|                |                |                | capacity by    |
|                |                |                | multiplying    |
|                |                |                | the nominal    |
|                |                |                | voltage with   |
|                |                |                | the nominal    |
|                |                |                | ampere hours.  |
|                |                |                | Example: a 48  |
|                |                |                | volt, 14.5 Ah  |
|                |                |                | battery has a  |
|                |                |                | nominal        |
|                |                |                | watt-hour      |
|                |                |                | capacity of    |
|                |                |                | 696 Wh.\       |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 8              | Consumed       | \-             | This value     |
|                | watt-hours     |                | represents     |
|                |                |                | consumed       |
|                |                |                | watt-hours     |
|                |                |                | since last     |
|                |                |                | reset. It is   |
|                |                |                | reset          |
|                |                |                | automatically  |
|                |                |                | when you power |
|                |                |                | on the LCD and |
|                |                |                | the battery    |
|                |                |                | voltage is     |
|                |                |                | above the set  |
|                |                |                | threshold      |
|                |                |                | voltage, i.e.  |
|                |                |                | fully          |
|                |                |                | charged.\      |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+

\

## 2: Power Assist {#power_assist}

Here you can configure if you wish to enable the Power Assist riding
mode. And also what multipliers to use for the different assist levels.

The assist level multipliers sets the motor power as a factor of the
power the rider is generating at the crankshaft. For instance, if the
rider is generating 100 watts of power and the multiplier is 1.0, there
will be another 100 watts of assistance from the motor.

This riding mode is based on the generated power from the rider. The
power you generate on the crank the more assistance you will receive.
This relationship is proportional to the power assist level multipliers.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Power Assist Enable   | \(0\) Disable Power   |
|                    |                       | Assist\               |
|                    |                       | (1) Enable Power      |
|                    |                       | Assist\               |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Number of assist      | Select the desired    |
|                    | levels                | number of assist      |
|                    |                       | levels from a minimum |
|                    |                       | of 1 to a maximum of  |
|                    |                       | 9.\                   |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 2                  | Power Assist level 1  | This is the value     |
|                    |                       | with which the human  |
|                    |                       | pedaling power is     |
|                    |                       | multiplied with.      |
+--------------------+-----------------------+-----------------------+
| X                  | Power Assist level X  | This is the value     |
|                    |                       | with which the human  |
|                    |                       | pedaling power is     |
|                    |                       | multiplied with.\     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+

\

## 3: Torque Assist {#torque_assist}

Here you can configure if you wish to enable the Torque Assist riding
mode. And also set the multipliers for the different assist levels.

The assist level multipliers sets the motor power as a factor of applied
torque on the pedals. The values are relative and are somewhat dependent
on the configuration and bike setup. Please configure levels comfortable
for your riding style.

This riding mode is only using the torque sensor to determine how much
assistance to give. More torque applied on the pedals will result in
more assistance. This relationship is proportional to the torque assist
multiplier.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Torque Assist Enable  | \(0\) Disable Torque  |
|                    |                       | Assist\               |
|                    |                       | (1) Enable Torque     |
|                    |                       | Assist\               |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Number of assist      | Select the desired    |
|                    | levels                | number of assist      |
|                    |                       | levels from a minimum |
|                    |                       | of 1 to a maximum of  |
|                    |                       | 9.\                   |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 2                  | Torque Assist level 1 | \                     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| X                  | Torque Assist level X | \                     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+

\

## 4: Cadence Assist {#cadence_assist}

Here you can configure if you wish to enable the Cadence Assist riding
mode. And also set the assistance level for each and every assist level.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Cadence Assist Enable | \(0\) Disable Cadence |
|                    |                       | Assist\               |
|                    |                       | (1) Enable Cadence    |
|                    |                       | Assist\               |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Number of assist      | Select the desired    |
|                    | levels                | number of assist      |
|                    |                       | levels from a minimum |
|                    |                       | of 1 to a maximum of  |
|                    |                       | 9.\                   |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 2                  | Cadence Assist level  | \                     |
|                    | 1                     | \                     |
+--------------------+-----------------------+-----------------------+
| X                  | Cadence Assist level  | \                     |
|                    | X                     | \                     |
+--------------------+-----------------------+-----------------------+

\

## 5: eMTB Assist {#emtb_assist}

Here it is possible to configure the eMTB Assist riding mode. This
riding mode automatically adjusts motor torque depending on the torque
applied on the pedals. More pedal torque equals a greater percentage of
motor torque. Meaning that you can get everything from normal assistance
all the way to absolute maximum power without changing assist levels.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | eMTB Assist Enable    | \(0\) Disable eMTB    |
|                    |                       | Assist\               |
|                    |                       | (1) Enable eMTB       |
|                    |                       | Assist\               |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | eMTB assist           | Higher values         |
|                    | sensitivity           | correspond to more    |
|                    |                       | responsive assistance |
|                    |                       | depending on the      |
|                    |                       | force applied on the  |
|                    |                       | pedals. The           |
|                    |                       | sensitivity can be    |
|                    |                       | set as an integer     |
|                    |                       | value from 1 to 20    |
|                    |                       | where 20 is the most  |
|                    |                       | sensitive level.\     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+

\

## 6: Walk Assist {#walk_assist}

Enable or disable walk assist with a long hold of DOWN button at speeds
below 8 km/h (approximately 5 mph). The motor will start to give
assistance configured by user and maintain that as long as the DOWN
button is being pressed. At the same time the walk assist symbol will
light up. To set different power levels simply select appropriate assist
level.

Below you can enable or disable the walk assist function and also
configure the motor duty cycle in each and every enabled assist level.

The walk assist PWM value sets the motor duty cycle. It is an open loop
controller. A PWM value of 30 will set the target duty cycle to 30.
Maximum settable PWM in the walk assist function is limited to a value
of 100.

Please use low gears when using Walk Assist. This causes the motor to
rotate faster and consequently the blue gear. This will put less of a
strain on the drive train.

**NOTES:**

-   Use as low gear as possible. Having high gears can cause a lot of
    strain on the blue gear.
-   There are only as many walk assist levels as there are assist
    levels.
-   Carefully test and set appropriate values.
-   The function can only be activated at speeds below 8 km/h or around
    5 mph.
-   Number of walk assist levels correspond to number of configured
    assist levels.

\
{\| \| **Submenu number** \|\| **Configuration name** \|\|
**Description** \|- \| 0 \|\| Enable/disable walk assist function \|\|
(0) Walk Assist disabled\
(1) Walk Assist enabled\
\
\|- \| 1 \|\| Walk Assist button bounce time \|\| (0) milliseconds by
default\
\
This parameter defines how many milliseconds before Walk Assist is
turned off after the DOWN button is released. Useful when the bike
bounces around in rough terrain or when in any other challenging
situation that can cause accidental button releases.\
\
Configure the time in milliseconds. It is set to 0 by default and this
immediately turns off Walk Assist as soon as the DOWN button is
released.\
\
The system will immediately turn off Walk Assist if the button is not
pressed long enough. This provides an extra layer of safety with
minimized risk of runaway events.\
\
\|- \| - \|\| Walk assist level 1 \|\|\
\
\|- \| - \|\| Walk assist level 2 \|\|\
\
\|}\

## 7: Cruise

Enable or disable the cruise function with a long hold of DOWN button at
speeds above 8 km/h or slightly above 5 mph. If the function is enabled
it will by default save the current wheel speed and maintain it for as
long as the DOWN button is pressed. It is also possible to enable a
feature where you enter the desired wheel speed and the cruise function
will automatically accelerate or decelerate to that speed and maintain
it. Both modes of operation are activated the same way as described
above.

The cruise symbol will light up to let the user know that the function
is active.

If it is preferred to set a target speed and let the cruise function
maintain that speed there are two ways in which the user can set the
speed. The first way is through the configuration menu. The second way
is by enabling the cruise display in the odometer field in the Main
Screen Setup. This will display an extra sub field where the target
speed is displayed in the odometer field. Pressing the UP or DOWN
buttons will not change the assist level in this sub field, instead, it
will change the target speed.\
\
**NOTES:**

-   It is recommended to install and use the E-brakes when using Cruise.
-   The cruise function only works at speeds above 9 km/h or slightly
    over 5 mph.
-   The motor power will not exceed set power limits.

\
{\| \| **Submenu number** \|\| **Configuration name** \|\|
**Description** \|- \| 0 \|\| Enable/disable cruise function \|\| (0)
Cruise disabled (default)\
(1) Cruise enabled\
\
\|- \| 1 \|\| Set speed to maintain \|\| (0) Disabled (default)\
(1) Enabled\
\
Set speed to maintain feature. This will enable the user to set desired
speed and the cruise function will maintain that speed.\
\
\|- \| 2 \|\| Set target speed \|\| Here it is possible to set the
target speed for the cruise function to maintain. This is when the \"set
speed to maintain\" feature is enabled.\
\
\|- \| 3 \|\| Display set target speed for cruise \|\| (0) Disabled
(default)\
(1) Enabled\
\
Display of user set target speed in which the cruise function will try
to maintain. In this menu the UP and DOWN buttons will increment or
decrement target speed. The target speed is displayed in the odometer
field if enabled.\
\
\|-\

## 8: Main Screen Setup {#main_screen_setup}

In the Main Screen Setup it is possible to configure and customize the
main screen.\
\
**NOTES:**\
\* Some variables can only be reset in the odometer field so it is
required to enable those variables to be able to reset.\
{\| \| **Submenu number** \|\| **Configuration name** \|\| **Default
value** \|\| **Description** \|- \| 0 \|\| Distance data \|\| 1 \|\|
Display of distance data, i.e. trip distance, distance since power on
and odometer, in the odometer field is enabled (1) by default. Set (0)
to disable.\
\
\|- \| 1 \|\| Battery SOC\|\| 1 \|\| Display of battery state of charge,
i.e. watt-hours consumed or percentage of state of charge, in the
odometer field is enabled (1) by default. Set (0) to disable.\
\
\|- \| 2 \|\| Battery state \|\| 1 \|\| Display of battery state, i.e.
voltage and current, in the odometer field is enabled (1) by default.
Set (0) to disable.\
\
\|- \| 3 \|\| Pedal data \|\| 1\|\| Display of pedal data, i.e. rider
pedal power, pedal cadence or pedal torque, in the odometer field is
enabled (1) by default. Set (0) to disable.\
\
\|- \| 4 \|\| Energy data \|\| 1\|\| Display of energy data, i.e.
average consumed power since power on, in the odometer field is enabled
(1) by default. Set (0) to disable.\
\
\|- \| 5 \|\| Time measurement \|\| 1 \|\| Display of time measurement,
i.e. TM or TTM, in the odometer field is enabled (1) by default. Set (0)
to disable.\
\
\|- \| 6 \|\| Wheel speed \|\| 1 \|\| Display of wheel speed, i.e.
current wheel speed, average wheel speed or peak wheel speed, in the
odometer field is enabled (1) by default. Set (0) to disable.\
\
\|- \| 7 \|\| Motor temperature \|\| 1 \|\| Display of motor temperature
in the odometer field is enabled (1) by default. Set (0) to disable.
This will only be shown if the motor temperature sensor is installed and
the function is enabled. Read more about this mod here.
[How-to-install-motor-temperature-sensor](How-to-install-motor-temperature-sensor "wikilink")\
\
\|- \| 8 \|\| Display target speed for cruise \|\| 0 \|\| Display of
user set target speed in which the cruise function will try to maintain.
This menu will only be shown if the function is enabled. Press UP or
DOWN buttons to increment or decrement target speed. The target speed is
displayed in the odometer field and is enabled (1) by default. Set (0)
to disable.\
\
\|- \| 9 \|\| Enable main screen power menu \|\| 1 \|\| When this
feature is enabled (1) a power menu can be displayed from the main
screen so the user can quickly set the motor power limit. Instead of
going to the Configuration Menu. This menu can be accessed from the main
screen by long pressing the ON/OFF and UP buttons. Press or hold the UP
or DOWN button to increase or decrease the power limit. Exit the menu by
holding the ON/OFF button. The main screen power menu can not be
accessed when Street Mode is enabled. Set (0) to disable this menu
altogether.\
\
\|- \| 10 \|\| Temperature field setup \|\| 0 \|\| In this sub menu it
is possible to set the temperature field to display different data
depending on user preference. Such as:\
\
(0) = Display nothing\
(1) = Motor temperature\
(2) = Battery state of charge in percent\
(3) = Instantaneous voltage on battery\
(4) = Instantaneous current drawn from battery\
(5) = Pedal cadence\
(6) = Average wheel speed since power on\
\
NOTE: If the motor temperature is hitting the temperature limits the
field will temporarily flash the motor temperature and override any
other data.\
\
\|}\

## 9: Street Mode {#street_mode}

Street Mode is a function that can be configured as a street legal
riding mode. It is possible to limit speed and power in Street Mode and
it can be configured so that the throttle and/or Cruise are either
enabled or disabled in Street Mode.

If the Street Mode function is enabled and activated the \"ASSIST\"
symbol will be solid. Switch to Offroad mode by pressing and holding the
POWER and DOWN buttons until the \"ASSIST\" symbol starts to blink. This
indicates that Street Mode is disabled. To enable Street Mode simply
press and hold the POWER and DOWN buttons once again until the
\"ASSIST\" symbol is solid.

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Enable Street Mode    | \(0\) Street Mode     |
|                    |                       | disabled\             |
|                    |                       | (1) Street Mode       |
|                    |                       | enabled\              |
|                    |                       | (2) Street Mode       |
|                    |                       | enabled on system     |
|                    |                       | startup\              |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Street Mode Speed     | Speed limit when      |
|                    | limit                 | Street Mode is        |
|                    |                       | enabled. The motor    |
|                    |                       | will fade out power   |
|                    |                       | to prevent            |
|                    |                       | overspeeding.\        |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 2                  | Limit power in Street | \(0\) Disables power  |
|                    | Mode                  | limit in Street Mode\ |
|                    |                       | (1) Enables power     |
|                    |                       | limit in Street Mode\ |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 3                  | Street Mode Power     | Power limit in watts  |
|                    | limit                 | when Street Mode is   |
|                    |                       | enabled\              |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 4                  | Throttle Enabled      | \(0\) Throttle        |
|                    |                       | disabled in Street    |
|                    |                       | Mode\                 |
|                    |                       | (1) Throttle enabled  |
|                    |                       | in Street Mode\       |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 5                  | Cruise Enabled        | \(0\) Cruise disabled |
|                    |                       | in Street Mode\       |
|                    |                       | (1) Cruise enabled in |
|                    |                       | Street Mode\          |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+

\

## 10: Advanced Setup {#advanced_setup}

In the Advanced Setup it is possible to setup parameters and functions
for slightly more experienced users.

**NOTES:**

-   The throttle and the motor temperature protection can not be active
    simultaneously. This is because they use the same hardware ports to
    operate.
-   If the motor temperature sensor is installed it is not possible to
    use the throttle. Do NOT enable throttle if that is the case.

\

+----------------+----------------+----------------+----------------+
| **Submenu      | *              | **Default      | *              |
| number**       | *Configuration | value**        | *Description** |
|                | name**         |                |                |
+----------------+----------------+----------------+----------------+
| 0              | Motor          | 0 %            | Set value      |
|                | acceleration   |                | after user     |
|                | adjustment     |                | preference.    |
|                |                |                | Higher values  |
|                |                |                | are more       |
|                |                |                | suited for low |
|                |                |                | nominal        |
|                |                |                | voltage        |
|                |                |                | batteries and  |
|                |                |                | the 48 volt    |
|                |                |                | motor. Lower   |
|                |                |                | values are     |
|                |                |                | better suited  |
|                |                |                | for higher     |
|                |                |                | nominal        |
|                |                |                | voltage        |
|                |                |                | batteries and  |
|                |                |                | the 36 volt    |
|                |                |                | motor. Set     |
|                |                |                | carefully and  |
|                |                |                | be mindful not |
|                |                |                | to set a       |
|                |                |                | higher value   |
|                |                |                | than necessary |
|                |                |                | as it can put  |
|                |                |                | greater stress |
|                |                |                | on the drive   |
|                |                |                | train.\        |
|                |                |                | \              |
|                |                |                | Default value  |
|                |                |                | = 0 %\         |
|                |                |                | 36 volt motor, |
|                |                |                | 36 volt        |
|                |                |                | battery = 35   |
|                |                |                | %\             |
|                |                |                | 36 volt motor, |
|                |                |                | 48 volt        |
|                |                |                | battery = 5 %\ |
|                |                |                | 36 volt motor, |
|                |                |                | 52 volt        |
|                |                |                | battery = 0 %\ |
|                |                |                | 48 volt motor, |
|                |                |                | 36 volt        |
|                |                |                | battery = 45   |
|                |                |                | %\             |
|                |                |                | 48 volt motor, |
|                |                |                | 48 volt        |
|                |                |                | battery = 35   |
|                |                |                | %\             |
|                |                |                | 48 volt motor, |
|                |                |                | 52 volt        |
|                |                |                | battery = 30   |
|                |                |                | %\             |
|                |                |                | \              |
|                |                |                | (VALUES NEED   |
|                |                |                | VALIDATION     |
|                |                |                | FROM USER      |
|                |                |                | FEEDBACK, work |
|                |                |                | in progress)\  |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 1              | Startup assist | 0              | \(0\)          |
|                | without pedal  |                | Disabled\      |
|                | rotation       |                | (X) Enabled    |
|                |                |                | with torque    |
|                |                |                | sensitivity X  |
|                |                |                | %\             |
|                |                |                | \              |
|                |                |                | If you wish to |
|                |                |                | enable startup |
|                |                |                | assist without |
|                |                |                | pedal rotation |
|                |                |                | it is done by  |
|                |                |                | appropriately  |
|                |                |                | configuring    |
|                |                |                | this variable. |
|                |                |                | If set to (0), |
|                |                |                | startup assist |
|                |                |                | without pedal  |
|                |                |                | rotation will  |
|                |                |                | be disabled.   |
|                |                |                | But any value  |
|                |                |                | above (0) will |
|                |                |                | enable assist  |
|                |                |                | without pedal  |
|                |                |                | rotation. The  |
|                |                |                | percentage     |
|                |                |                | value will     |
|                |                |                | determine the  |
|                |                |                | sensitivity of |
|                |                |                | torque         |
|                |                |                | applied. 100 % |
|                |                |                | sensitivity    |
|                |                |                | will assist    |
|                |                |                | from the       |
|                |                |                | slightest of   |
|                |                |                | torque         |
|                |                |                | applied. It is |
|                |                |                | advised to use |
|                |                |                | e-brakes if    |
|                |                |                | startup assist |
|                |                |                | without pedal  |
|                |                |                | rotation is    |
|                |                |                | enabled.\      |
|                |                |                | \              |
|                |                |                | When           |
|                |                |                | configuring it |
|                |                |                | is good to     |
|                |                |                | incrementally  |
|                |                |                | increase the   |
|                |                |                | sensitivity    |
|                |                |                | until you are  |
|                |                |                | satisfied. Do  |
|                |                |                | not start with |
|                |                |                | too high       |
|                |                |                | values. The    |
|                |                |                | sensitivity is |
|                |                |                | different for  |
|                |                |                | each and every |
|                |                |                | bike and       |
|                |                |                | should be      |
|                |                |                | configured     |
|                |                |                | after personal |
|                |                |                | preference     |
|                |                |                | with the main  |
|                |                |                | riding mode    |
|                |                |                | you intend to  |
|                |                |                | use.\          |
|                |                |                | \              |
|                |                |                | Recommended    |
|                |                |                | values range   |
|                |                |                | between 10-15  |
|                |                |                | %.\            |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 2              | Pedal torque   | 67             | Set the pedal  |
|                | conversion     |                | torque         |
|                | factor         |                | conversion so  |
|                |                |                | that the       |
|                |                |                | displayed      |
|                |                |                | weight is      |
|                |                |                | correct in the |
|                |                |                | sub menu       |
|                |                |                | number 3. This |
|                |                |                | is so that the |
|                |                |                | human power    |
|                |                |                | calculation is |
|                |                |                | correct and so |
|                |                |                | that Power     |
|                |                |                | Assist         |
|                |                |                | operates       |
|                |                |                | optimally. It  |
|                |                |                | does not       |
|                |                |                | affect the     |
|                |                |                | resolution nor |
|                |                |                | range of the   |
|                |                |                | torque sensor. |
|                |                |                | To change the  |
|                |                |                | accuracy and   |
|                |                |                | range of the   |
|                |                |                | torque sensor  |
|                |                |                | you instead    |
|                |                |                | need to        |
|                |                |                | calibrate the  |
|                |                |                | hardware.\     |
|                |                |                | \              |
|                |                |                | Do not use     |
|                |                |                | weights over   |
|                |                |                | 25 kg when     |
|                |                |                | calibrating if |
|                |                |                | you want       |
|                |                |                | maximum        |
|                |                |                | accuracy for   |
|                |                |                | the human      |
|                |                |                | power          |
|                |                |                | calculation!   |
|                |                |                | The torque     |
|                |                |                | sensor has an  |
|                |                |                | operating      |
|                |                |                | range of       |
|                |                |                | around 0 -\>   |
|                |                |                | 40 kg. So the  |
|                |                |                | calibration    |
|                |                |                | should be      |
|                |                |                | performed with |
|                |                |                | a calibration  |
|                |                |                | weight         |
|                |                |                | somewhere in   |
|                |                |                | between. But   |
|                |                |                | if the human   |
|                |                |                | power accuracy |
|                |                |                | is not a       |
|                |                |                | priority it is |
|                |                |                | possible to    |
|                |                |                | use a slightly |
|                |                |                | heavier        |
|                |                |                | calibration    |
|                |                |                | weight. The    |
|                |                |                | result would   |
|                |                |                | be a feeling   |
|                |                |                | of a slightly  |
|                |                |                | wider          |
|                |                |                | operating      |
|                |                |                | range on the   |
|                |                |                | torque sensor  |
|                |                |                | and therefore  |
|                |                |                | a more         |
|                |                |                | responsive     |
|                |                |                | feeling.\      |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 3              | Weight on      | \-             | Here you can   |
|                | pedals         |                | see the weight |
|                |                |                | on the pedals. |
|                |                |                | If it is not   |
|                |                |                | correct try    |
|                |                |                | adjusting the  |
|                |                |                | Pedal torque   |
|                |                |                | conversion     |
|                |                |                | factor in sub  |
|                |                |                | menu number 2. |
|                |                |                | The weight     |
|                |                |                | will be        |
|                |                |                | displayed in   |
|                |                |                | either metric  |
|                |                |                | or imperial    |
|                |                |                | units          |
|                |                |                | depending on   |
|                |                |                | system         |
|                |                |                | configuration  |
|                |                |                | (IMPERIAL      |
|                |                |                | MEASUREMENTS   |
|                |                |                | NOT YET        |
|                |                |                | IMPLEMENTED).\ |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 4              | Cadence sensor | 0              | \(0\) Standard |
|                | mode           |                | Mode\          |
|                |                |                | (1) Advanced   |
|                |                |                | Mode (\*)\     |
|                |                |                | \              |
|                |                |                | (\*) If you    |
|                |                |                | wish to enable |
|                |                |                | the Advanced   |
|                |                |                | Mode a simple  |
|                |                |                | calibration is |
|                |                |                | needed. See    |
|                |                |                | this [         |
|                |                |                | page](How_t    |
|                |                |                | o_Calibrate_th |
|                |                |                | e_Cadence_Sens |
|                |                |                | or "wikilink") |
|                |                |                | for more       |
|                |                |                | information.\  |
|                |                |                | \              |
|                |                |                | The Advanced   |
|                |                |                | Mode has a     |
|                |                |                | better         |
|                |                |                | operating      |
|                |                |                | range and a    |
|                |                |                | faster         |
|                |                |                | response time. |
|                |                |                | It makes the   |
|                |                |                | system respond |
|                |                |                | quicker and    |
|                |                |                | improves the   |
|                |                |                | experience in  |
|                |                |                | many ways.     |
|                |                |                | Highly         |
|                |                |                | recommended    |
|                |                |                | for all users. |
|                |                |                | Especially if  |
|                |                |                | using the      |
|                |                |                | TSDZ2 coaster  |
|                |                |                | brake version. |
|                |                |                | Note that the  |
|                |                |                | advanced mode  |
|                |                |                | only works     |
|                |                |                | after a proper |
|                |                |                | calibration.   |
|                |                |                | See this [     |
|                |                |                | page](How_t    |
|                |                |                | o_Calibrate_th |
|                |                |                | e_Cadence_Sens |
|                |                |                | or "wikilink") |
|                |                |                | for more       |
|                |                |                | information.\  |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 5              | External       | 0              | \(0\) lights   |
|                | lights         |                | ON when        |
|                | configuration  |                | enabled\       |
|                |                |                | \              |
|                |                |                | (1) lights     |
|                |                |                | FLASHING when  |
|                |                |                | enabled\       |
|                |                |                | \              |
|                |                |                | (2) lights ON  |
|                |                |                | when enabled   |
|                |                |                | and            |
|                |                |                | BRAKE-FLASHING |
|                |                |                | when braking\  |
|                |                |                | \              |
|                |                |                | (3) lights     |
|                |                |                | FLASHING when  |
|                |                |                | enabled and ON |
|                |                |                | when braking\  |
|                |                |                | \              |
|                |                |                | (4) lights     |
|                |                |                | FLASHING when  |
|                |                |                | enabled and    |
|                |                |                | BRAKE-FLASHING |
|                |                |                | when braking\  |
|                |                |                | \              |
|                |                |                | (5) lights ON  |
|                |                |                | when enabled,  |
|                |                |                | but ON when    |
|                |                |                | braking        |
|                |                |                | regardless if  |
|                |                |                | lights are     |
|                |                |                | enabled\       |
|                |                |                | \              |
|                |                |                | (6) lights ON  |
|                |                |                | when enabled,  |
|                |                |                | but            |
|                |                |                | BRAKE-FLASHING |
|                |                |                | when braking   |
|                |                |                | regardless if  |
|                |                |                | lights are     |
|                |                |                | enabled\       |
|                |                |                | \              |
|                |                |                | (7) lights     |
|                |                |                | FLASHING when  |
|                |                |                | enabled, but   |
|                |                |                | ON when        |
|                |                |                | braking        |
|                |                |                | regardless if  |
|                |                |                | lights are     |
|                |                |                | enabled\       |
|                |                |                | \              |
|                |                |                | (8) lights     |
|                |                |                | FLASHING when  |
|                |                |                | enabled, but   |
|                |                |                | BRAKE-FLASHING |
|                |                |                | when braking   |
|                |                |                | regardless if  |
|                |                |                | lights are     |
|                |                |                | enabled\       |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 6              | Optional ADC   | 0              | \(0\) Not in   |
|                | channel        |                | use\           |
|                |                |                | (1) Motor      |
|                |                |                | temperature    |
|                |                |                | control\       |
|                |                |                | (2) Throttle\  |
|                |                |                | \              |
|                |                |                | NOTE: Do NOT   |
|                |                |                | enable the     |
|                |                |                | throttle if    |
|                |                |                | you have       |
|                |                |                | installed the  |
|                |                |                | [motor         |
|                |                |                | temperature    |
|                |                |                | sens           |
|                |                |                | or](How_to_ins |
|                |                |                | tall_motor_tem |
|                |                |                | perature_senso |
|                |                |                | r "wikilink"). |
|                |                |                | If you have    |
|                |                |                | the sensor     |
|                |                |                | installed you  |
|                |                |                | need to either |
|                |                |                | have the motor |
|                |                |                | temperature    |
|                |                |                | limit function |
|                |                |                | enabled or     |
|                |                |                | everything     |
|                |                |                | disabled, i.e. |
|                |                |                | set to either  |
|                |                |                | (1) or (0).\   |
|                |                |                | \              |
|                |                |                | Please read    |
|                |                |                | more about the |
|                |                |                | temperature    |
|                |                |                | control or     |
|                |                |                | throttle       |
|                |                |                | function in    |
|                |                |                | the            |
|                |                |                | appropriate    |
|                |                |                | parts in the   |
|                |                |                | beginning of   |
|                |                |                | this manual.\  |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 7              | Minimum        | \-             | Set the motor  |
|                | temperature in |                | temperature    |
|                | Celsius        |                | from where the |
|                |                |                | motor          |
|                |                |                | temperature    |
|                |                |                | protection     |
|                |                |                | will start to  |
|                |                |                | limit the      |
|                |                |                | power.\        |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+
| 8              | Maximum        | \-             | Set the        |
|                | temperature in |                | maximum motor  |
|                | Celsius        |                | temperature.   |
|                |                |                | At this        |
|                |                |                | temperature    |
|                |                |                | the motor will |
|                |                |                | be turned      |
|                |                |                | off.\          |
|                |                |                | \              |
+----------------+----------------+----------------+----------------+

\

## 11: Advanced Technical Data {#advanced_technical_data}

+--------------------+-----------------------+-----------------------+
| **Submenu number** | **Configuration       | **Description**       |
|                    | name**                |                       |
+--------------------+-----------------------+-----------------------+
| 0                  | Optional ADC value    | The optional ADC is   |
|                    |                       | used for either       |
|                    |                       | throttle or motor     |
|                    |                       | temperature control.  |
|                    |                       | Here it is possible   |
|                    |                       | to see the            |
|                    |                       | instantaneous value.\ |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 1                  | Throttle or           | See the instantaneous |
|                    | temperature limiting  | value.\               |
|                    | value mapped from 0   | \                     |
|                    | to 255                |                       |
+--------------------+-----------------------+-----------------------+
| 2                  | Torque sensor ADC     | See the current       |
|                    | value                 | value.\               |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 3                  | Pedal cadence         | The instantaneous     |
|                    |                       | value of the pedal    |
|                    |                       | cadence. This value   |
|                    |                       | is not filtered.\     |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 4                  | PWM duty cycle        | This is the           |
|                    |                       | instantaneous duty    |
|                    |                       | cycle of the motor.   |
|                    |                       | It ranges from a      |
|                    |                       | value of 0 to 254.\   |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 5                  | Motor speed in ERPS   | This value is the     |
|                    |                       | instantaneous         |
|                    |                       | rotational speed of   |
|                    |                       | the motor. The ERPS   |
|                    |                       | value can be divided  |
|                    |                       | by eight (8) to get   |
|                    |                       | the motor shaft       |
|                    |                       | revolutions per       |
|                    |                       | second. Or it can     |
|                    |                       | multiplied with 7.5   |
|                    |                       | to get the motor      |
|                    |                       | shaft revolutions per |
|                    |                       | minute, RPM.\         |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 6                  | FOC angle             | See the current       |
|                    |                       | value. This value     |
|                    |                       | must be multiplied by |
|                    |                       | 1.4 to get angle      |
|                    |                       | value in degrees.\    |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+
| 7                  | Cadence sensor magnet | This value is the     |
|                    | pulse percentage      | percentage or duty    |
|                    |                       | cycle of the high     |
|                    |                       | state during the      |
|                    |                       | Advanced Mode of the  |
|                    |                       | cadence sensor.\      |
|                    |                       | \                     |
+--------------------+-----------------------+-----------------------+

\
\

# Wiki Acknowledgements {#wiki_acknowledgements}

------------------------------------------------------------------------

A big thanks to all that have in one way or another helped with the
wiki.

List in alphabetical order:

-   Casainho (Endless Sphere and GitHub ID)
-   Rydon (Endless Sphere ID)
-   Thineight (Endless Sphere and GitHub ID)
-   WJCFerguson (GitHub ID)
